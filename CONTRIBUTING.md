# コントリビューションガイド

Portfolio Advisorへの貢献に興味を持っていただきありがとうございます。このドキュメントでは、プロジェクトへの貢献方法について説明します。

## 行動規範

このプロジェクトに参加するすべての人は、相互に敬意を持って接することが期待されます。建設的なフィードバックを提供し、他の貢献者の意見を尊重してください。

## 貢献の方法

### バグ報告

バグを見つけた場合は、GitHubのIssueを作成してください。

1. 既存のIssueを検索して、同じ問題が報告されていないか確認
2. 新しいIssueを作成し、バグ報告テンプレートに従って記入
3. 再現手順、期待される動作、実際の動作を明確に記載

### 機能リクエスト

新機能のアイデアがある場合は、GitHubのIssueを作成してください。

1. 既存のIssueを検索して、同じ提案がないか確認
2. 新しいIssueを作成し、機能リクエストテンプレートに従って記入
3. 機能の目的と利点を明確に説明

### プルリクエスト

コードの変更を提案する場合は、以下の手順に従ってください。

#### 1. 開発環境のセットアップ

```bash
# リポジトリをフォーク
# フォークしたリポジトリをクローン
git clone https://github.com/your-username/portfolio-advisor.git
cd portfolio-advisor

# 依存関係をインストール
pnpm install

# 開発サーバーを起動
pnpm dev
```

#### 2. ブランチの作成

```bash
# mainブランチを最新に更新
git checkout main
git pull upstream main

# 新しいブランチを作成
git checkout -b feature/your-feature-name
# または
git checkout -b fix/your-bug-fix
```

#### 3. 変更の実装

- コードスタイルガイドに従う
- 適切なテストを追加
- コミットメッセージは明確で簡潔に

#### 4. テストの実行

```bash
# 型チェック
pnpm typecheck

# リンター
pnpm lint

# テスト
pnpm test
```

#### 5. プルリクエストの作成

1. 変更をプッシュ
2. GitHubでプルリクエストを作成
3. PRテンプレートに従って記入
4. レビューを待つ

## コードスタイル

### TypeScript

- 厳格な型付けを使用
- `any`型の使用は避ける
- インターフェースを適切に定義

### React

- 関数コンポーネントとフックを使用
- コンポーネントは単一責任の原則に従う
- propsには適切な型を定義

### テスト

- 新機能にはユニットテストを追加
- テストは`__tests__`ディレクトリに配置
- テスト名は明確で説明的に

## コミットメッセージ

コミットメッセージは以下の形式に従ってください：

```
<type>: <subject>

<body>
```

### Type

- `feat`: 新機能
- `fix`: バグ修正
- `docs`: ドキュメントのみの変更
- `style`: コードの意味に影響しない変更（空白、フォーマットなど）
- `refactor`: バグ修正でも新機能でもないコード変更
- `test`: テストの追加または修正
- `chore`: ビルドプロセスやツールの変更

### 例

```
feat: 防御型聖杯のウェイト計算を追加

リスク逆数ウェイトによる傾斜配分を実装。
元のExcelダッシュボードと同じロジックを再現。
```

## プロジェクト構造

```
portfolio-advisor/
├── src/                    # フロントエンドソース
│   ├── components/         # UIコンポーネント
│   ├── pages/              # ページコンポーネント
│   ├── hooks/              # カスタムフック
│   └── lib/                # ユーティリティ
├── server/                 # バックエンドソース
│   ├── marketData.ts       # 市場データ取得
│   ├── portfolioSelection.ts # 銘柄選定ロジック
│   └── __tests__/          # テスト
├── db/                     # データベース
└── docs/                   # ドキュメント
```

## 質問がある場合

質問がある場合は、GitHubのDiscussionsで質問してください。

ご協力ありがとうございます！
